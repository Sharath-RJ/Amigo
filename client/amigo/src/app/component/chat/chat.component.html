<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three Column Layout</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body class="bg-gray-900 h-screen text-white">
    <div class="flex h-full">
        <!-- Left Container (8%) -->
        <div class="w-1/12 md:w-2/25 bg-gray-800 p-4 flex flex-col border-r border-gray-700 items-center">
            <!-- App Logo -->
            <div class="mb-6 mt-10">
                <img src="https://via.placeholder.com/40" alt="App Logo" class="mx-auto">
            </div>
            <!-- Navigation Icons -->
            <div class="flex-grow flex flex-col items-center justify-center space-y-[75px]">
                <i class="fas fa-home text-2xl text-gray-400 hover:text-white cursor-pointer"></i>
                <i class="fas fa-search text-2xl text-gray-400 hover:text-white cursor-pointer"></i>
                <i class="fas fa-comments text-2xl text-gray-400 hover:text-white cursor-pointer"></i>
                <i class="fas fa-compass text-2xl text-gray-400 hover:text-white cursor-pointer"></i>
                <i class="fas fa-cog text-2xl text-gray-400 hover:text-white cursor-pointer"></i>
            </div>
        </div>

        <!-- Middle Container (30%) -->
        <div class="w-3/12 md:w-3/10 bg-gray-800 p-4 flex flex-col">
            <div class="w-full flex items-center pl-[10px] bg-gray-700 h-[70px] rounded-lg">
                <h3 class="font-bold">Profile Name</h3>
            </div>
            <div class="overflow-y-auto mt-4">
                <ul *ngFor="let user of chattedUsers" class="list-none p-4 bg-gray-800 shadow-md rounded-lg space-y-[5px]">
                    <li
                        class="p-2 hover:bg-gray-700 cursor-pointer flex items-center transition duration-200 ease-in-out rounded-lg">
                        <img src="https://via.placeholder.com/30" alt="User Pic" class="rounded-full mr-3">
                        <span class="font-medium">{{user.username}}</span>
                    </li>
                  
                </ul>
            </div>
        </div>

        <!-- Right Container (62%) -->
        <div class="w-8/12 md:w-19/30 bg-gray-900 p-4 flex flex-col">
            <div class="flex items-center justify-between p-4 border-b border-gray-700">
                <div class="flex items-center">
                    <img src="https://via.placeholder.com/40" alt="Chat User Pic" class="rounded-full mr-3">
                    <div>
                        <h2 class="text-xl font-bold">Chat User</h2>
                        <p class="text-sm text-gray-400">Online</p>
                    </div>
                </div>
                <div class="flex space-x-4">
                    <i (click)="connectToVideoCall()" class="fas fa-video text-xl text-gray-400 hover:text-white cursor-pointer"></i>
                    <i class="fas fa-phone text-xl text-gray-400 hover:text-white cursor-pointer"></i>
                    <i class="fas fa-paperclip text-xl text-gray-400 hover:text-white cursor-pointer"></i>
                </div>
            </div>

    <!-- Chat Messages -->
    <div #chatContainer class="chat-container flex-grow p-4 overflow-y-auto h-[70vh] bg-gray-800 rounded-lg mt-4">
        <ng-container *ngFor="let message of messages">
            <div class="max-w-xs mb-4 p-3 rounded-lg" [ngClass]="{
            'bg-blue-600 text-white rounded-lg rounded-tr-none ml-auto': message.sender === senderId,
            'bg-gray-700 text-white rounded-lg rounded-tl-none self-start': message.sender !== senderId
          }">
                <p>{{ message.content }}</p>
            </div>
        </ng-container>
    </div>

            <!-- Message Input -->
            <div class="flex items-center p-4 border-t border-gray-700 mt-4">
                <form action="" (submit)="sendMessage()" class="flex items-center flex-grow">
                    <input type="text" name="content" [(ngModel)]="content"
                        class="p-2 w-80 border border-gray-700 rounded-full bg-gray-800 text-white placeholder-gray-400"
                        placeholder="Type your message...">
                    <button type="submit" class="ml-4 px-4 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700">Send</button>
                    <!--button for grammar check-->
                    <button (click)="checkGrammar()" type="button"
                        class="ml-4 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-blue-600 hover:to-purple-600 text-white font-bold py-2 px-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300">Grammar
                        Doctor</button>
                    <i *ngIf="resording" (click)="stopRecording()"
                        class="fas fa-microphone text-xl text-red-400 hover:text-white cursor-pointer ml-4"></i>
                    <i *ngIf="!resording" (click)="startRecording()"
                        class="fas fa-microphone text-xl text-gray-400 hover:text-white cursor-pointer ml-4"></i>
                </form>
            </div>

        </div>
    </div>

    
</body>

</html>